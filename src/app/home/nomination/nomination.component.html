<div class="container-fluid mt-5" id="nominations-list">

  <form class="" (ngSubmit)="onVote(f)" #f="ngForm">
    <div class="container d-flex flex-wrap justify-content-between mt-0" id="list">


      <div class="row">

        <div class="col-md-4 card text-center " *ngFor="let nominee of nominees;let i = index;">

          <a class="card-body  view-card-body p-1" data-toggle="modal" data-target="#nomineeModal"
             (click)="viewNominee(nominee)">

            <h3>{{ nominee.name }} <span> {{ nominee.introduction }}</span></h3>
            <!--<h1>Helen Parker<span>design photography</span></h1>-->
            <!--<h6 class="card-subtitle text-muted pb-1">{{ nominee.introduction }}</h6>-->
            <!--<p class="card-text block-with-text text-center">{{ nominee.story }}</p>-->

          </a>


          <div class="card-body  p-1">

            <div class="progress" style="height: 20px;" *ngIf="nominee.votesNumber>=0">
              <div class="progress-bar progress-bar-striped progress-bar-animated bg-danger" role="progressbar"
                   attr.aria-valuenow="{{ nominee.votesNumber *20 }}"
                   aria-valuemin="0" aria-valuemax="100" [style.width]="nominee.votesNumber*20 +'%'" *ngIf="nominee.votesNumber>0"> {{ nominee.votesNumber }}</div>
            </div>


            <div class="row d-flex align-items-center justify-content-center">


              <div class="custom-control custom-checkbox mb-3 container">
                <input type="checkbox"  id="{{nominee.id}}" ngModel name="{{nominee.id}}">
                <label for="{{nominee.id}}">为TA投票</label>
              </div>
            </div>


          </div>


        </div>
      </div>


    </div>
    <div class="row m-3 d-flex justify-content-center" id="button">
      <button class="btn col-4"> 投票</button>
    </div>
  </form>


</div>


<!-- Modal -->
<div class="modal fade" id="nomineeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="nomineeModalLabel">详细信息</h5>
      </div>
      <div class="modal-body">
        <div class="col-12 text-center ">
          <img class="img-thumbnail" id="blah" [src]="imgSrc" alt="your image"/>
        </div>
        <h2>{{ modalNominee.name}} </h2>
        <p>简介：{{ modalNominee.introduction}} </p>
        <p class="text-center">{{ modalNominee.story}} </p>
        <p>专业：{{ modalNominee.school.name}} </p>
        <p>类型：{{ modalNominee.type.name}} </p>
        <p>Ta的票数：{{ modalNominee.votesNumber}} </p>
        <p>remark：{{ modalNominee.remark}} </p>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" (click)="modifyNominee(modalNominee)">修改</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
